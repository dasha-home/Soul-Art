<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>ĞšĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ° â€” ÑƒÑÑ‚ Ğ¸ Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ | Ğ”Ğ°ÑˆĞ° Ğ¥ÑƒĞ´Ğ¾Ğ¶Ğ½Ğ¸Ğº</title>
  <meta name="description" content="ĞšĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ° Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ Ğ”Ğ°ÑˆĞ¸ Ğ¥ÑƒĞ´Ğ¾Ğ¶Ğ½Ğ¸Ğº: ÑĞ¿Ğ¾ĞºĞ¾Ğ¹Ğ½Ñ‹Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ñ‹, ÑƒÑÑ‚, Ğ¿Ğ°ÑƒĞ·Ğ°. ĞœĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ Ğ´ÑƒÑˆĞ¸ Ğ¸ Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ğ¸." />
  <link rel="stylesheet" href="styles.css" />
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%; overflow: hidden;
      background: #03020e; /* Ñ‚Ñ‘Ğ¼Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ Ğ·Ğ° ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¾Ğ¹ ĞµÑĞ»Ğ¸ ÑĞºÑ€Ğ°Ğ½ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¿Ğ¾Ñ€Ñ†Ğ¸Ğ¸ */
      font-family: Georgia, serif;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       Ğ¤ĞĞ¢Ğ â€” Ñ†ĞµĞ»Ğ¸ĞºĞ¾Ğ¼, Ğ±ĞµĞ· Ğ¾Ğ±Ñ€ĞµĞ·ĞºĞ¸
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .hut {
      position: fixed; inset: 0; z-index: 2;
      display: flex; align-items: center; justify-content: center;
    }
    .hut__img {
      /* contain = Ğ²Ğ¸Ğ´Ğ½Ğ° Ğ²ÑÑ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ°, Ğ±ĞµĞ· Ğ¾Ğ±Ñ€ĞµĞ·ĞºĞ¸ */
      width: 100%; height: 100%;
      object-fit: contain;
      object-position: center center;
      animation: hut-breathe 6s ease-in-out infinite;
      opacity: 0;
      transition: opacity 1.8s ease;
    }
    .hut__img.loaded { opacity: 1; }

    /* Ğ•Ğ´Ğ²Ğ° Ğ·Ğ°Ğ¼ĞµÑ‚Ğ½Ğ¾Ğµ Ğ´Ñ‹Ñ…Ğ°Ğ½Ğ¸Ğµ Ğ²ÑĞµĞ¹ ÑÑ†ĞµĞ½Ñ‹ */
    @keyframes hut-breathe {
      0%, 100% { filter: brightness(0.96) saturate(1.02); }
      50%       { filter: brightness(1.02) saturate(1.0);  }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       Ğ”Ğ«Ğ¥ĞĞĞ˜Ğ• Ğ¤Ğ˜Ğ“Ğ£Ğ  â€” Ñ‚Ñ‘Ğ¿Ğ»Ñ‹Ğµ Ğ¾Ğ²ĞµÑ€Ğ»ĞµĞ¸
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .breath {
      position: fixed; z-index: 4;
      border-radius: 50%; pointer-events: none;
    }
    /* Ğ¡Ğ°Ğ¼ÑƒÑ€Ğ°Ğ¹ â€” Ğ»ĞµĞ²ĞµĞµ Ñ†ĞµĞ½Ñ‚Ñ€Ğ° */
    .breath--samurai {
      left: 30%; top: 22%; width: 18%; height: 55%;
      background: radial-gradient(ellipse at 50% 40%, rgba(255,210,150,0.06) 0%, transparent 70%);
      animation: breathe-person 5.5s ease-in-out infinite;
    }
    /* Ğ”Ğ°ÑˆĞ° â€” Ğ¿Ñ€Ğ°Ğ²ĞµĞµ */
    .breath--dasha {
      right: 10%; top: 18%; width: 20%; height: 60%;
      background: radial-gradient(ellipse at 50% 38%, rgba(255,200,160,0.06) 0%, transparent 70%);
      animation: breathe-person 5.5s ease-in-out 0.5s infinite;
    }
    /* ĞšĞ¾Ñ‚ÑÑ‚Ğ° */
    .breath--cats {
      left: 37%; top: 68%; width: 22%; height: 18%;
      background: radial-gradient(ellipse, rgba(255,200,120,0.05) 0%, transparent 70%);
      animation: breathe-cats 4s ease-in-out infinite;
    }
    @keyframes breathe-person {
      0%, 100% { transform: scaleY(1);     opacity: 0.4; }
      38%       { transform: scaleY(1.018); opacity: 1;   }
      60%       { transform: scaleY(1.016); opacity: 0.8; }
      85%       { transform: scaleY(0.997); opacity: 0.5; }
    }
    @keyframes breathe-cats {
      0%, 100% { opacity: 0.2; }
      50%       { opacity: 0.7; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       Ğ‘Ğ›Ğ•Ğ¡Ğš Ğ§ĞĞ™ĞĞ˜ĞšĞ
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .teapot-shine {
      position: fixed;
      left: 7.5%; top: 60%;
      width: 100px; height: 82px;
      z-index: 5; pointer-events: none; border-radius: 50%;
      background: radial-gradient(ellipse at 38% 32%,
        rgba(255,255,255,0.42) 0%,
        rgba(255,255,255,0.16) 25%,
        transparent 62%
      );
      animation: teapot-glow 4.5s ease-in-out infinite;
    }
    @keyframes teapot-glow {
      0%, 100% { opacity: 0.65; transform: scale(1); }
      50%       { opacity: 1.0;  transform: scale(1.05); }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ĞŸĞĞ  â€” Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±ĞµĞ»Ñ‘ÑÑ‹Ğ¹
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .steam {
      position: fixed;
      left: 9%; top: 50%;
      z-index: 5; width: 60px; height: 110px;
      pointer-events: none;
    }
    .steam__p {
      position: absolute; bottom: 0; border-radius: 50%;
      background: radial-gradient(ellipse,
        rgba(255,255,255,0.6) 0%,
        rgba(240,240,240,0.22) 45%,
        transparent 100%
      );
      filter: blur(5px);
      animation: steam-rise var(--d,3s) ease-out var(--dl,0s) infinite;
    }
    .steam__p:nth-child(1){width:24px;height:24px;left: 4px;--d:3.2s;--dl:0s;  --tx:-12px;--ty:-105px;}
    .steam__p:nth-child(2){width:30px;height:30px;left:16px;--d:2.9s;--dl:1.0s;--tx: 15px;--ty:-98px;}
    .steam__p:nth-child(3){width:22px;height:22px;left: 8px;--d:3.6s;--dl:1.9s;--tx:- 8px;--ty:-112px;}
    .steam__p:nth-child(4){width:26px;height:26px;left:24px;--d:2.8s;--dl:2.7s;--tx: 11px;--ty:-95px;}
    .steam__p:nth-child(5){width:20px;height:20px;left: 2px;--d:3.9s;--dl:0.6s;--tx:-16px;--ty:-118px;}
    .steam__p:nth-child(6){width:28px;height:28px;left:20px;--d:3.1s;--dl:3.4s;--tx:  8px;--ty:-100px;}

    @keyframes steam-rise {
      0%  { transform:translate(0,0) scale(0.35) rotate(0deg); opacity:0; }
      8%  { opacity:0.8; }
      42% { opacity:0.5; transform:translate(calc(var(--tx)*0.45),calc(var(--ty)*0.42)) scale(1.3) rotate(6deg); }
      78% { opacity:0.15; }
      100%{ transform:translate(var(--tx),var(--ty)) scale(2.4) rotate(14deg); opacity:0; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       Ğ—Ğ’ĞĞ—Ğ”Ğ« â€” Ğ¼ĞµÑ€Ñ†Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… ĞœĞ»ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ÑƒÑ‚Ğ¸
       (Ğ² Ğ·Ğ¾Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ğ´Ğ²ĞµÑ€ĞµĞ¹, Ğ²ĞµÑ€Ñ…-Ñ†ĞµĞ½Ñ‚Ñ€)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .img-star {
      position: fixed;
      z-index: 6; pointer-events: none;
      border-radius: 50%;
      background: rgba(255,255,255,0.9);
      animation: star-twinkle var(--d,2s) ease-in-out var(--dl,0s) infinite alternate;
    }
    @keyframes star-twinkle {
      0%   { opacity: 0.1; transform: scale(0.8); }
      100% { opacity: 1.0; transform: scale(1.6);
             box-shadow: 0 0 4px 2px rgba(200,220,255,0.7); }
    }

    /* Ğ¤Ğ¾Ğ½Ğ°Ñ€Ğ¸ĞºĞ¸ â€” Ğ¼ĞµÑ€Ñ†Ğ°ÑÑ‚ */
    .lantern-l, .lantern-r {
      position: fixed; z-index: 5; pointer-events: none; border-radius: 50%;
    }
    .lantern-l {
      left: 3%; top: 55%; width: 55px; height: 55px;
      background: radial-gradient(ellipse, rgba(255,185,55,0.3) 0%, transparent 70%);
      animation: lantern-flicker 3.1s ease-in-out infinite alternate;
    }
    .lantern-r {
      right: 3%; top: 52%; width: 55px; height: 55px;
      background: radial-gradient(ellipse, rgba(255,175,45,0.28) 0%, transparent 70%);
      animation: lantern-flicker 2.8s ease-in-out 0.8s infinite alternate;
    }
    @keyframes lantern-flicker {
      0%   { opacity: 0.55; transform: scale(0.95); }
      60%  { opacity: 1.0;  transform: scale(1.12); }
      100% { opacity: 0.7;  transform: scale(1.0);  }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       UI â€” ÑˆĞ°Ğ¿ĞºĞ° Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .relax-ui {
      position: fixed; inset: 0; z-index: 20; pointer-events: none;
      display: flex; flex-direction: column; align-items: center; justify-content: space-between;
      padding: max(1rem, env(safe-area-inset-top)) 1.2rem max(1rem, env(safe-area-inset-bottom));
    }
    .relax-header {
      width: 100%; display: flex; align-items: center; justify-content: space-between;
      pointer-events: all; opacity: 0; transition: opacity 1.4s ease 2s;
      padding-right: 6.5rem; /* Ğ¼ĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ Ğ³Ğ»Ğ¾Ğ±ÑƒÑĞ° Ğ¸ ÑĞ¾Ğ»Ğ½Ñ‹ÑˆĞºĞ° (ÑĞ·Ñ‹ĞºĞ¸ + Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ğ°) */
    }
    .relax-header.show { opacity: 1; }
    .relax-back {
      font-size: 0.8rem; color: rgba(200,175,130,0.55); text-decoration: none;
      padding: 0.3rem 0.75rem; border-radius: 12px;
      border: 1px solid rgba(185,138,50,0.15); backdrop-filter: blur(6px);
      letter-spacing: 0.04em; transition: all 0.25s;
    }
    .relax-back:hover { color: rgba(225,200,155,0.95); border-color: rgba(185,138,50,0.35); }
    .relax-title { font-size: 0.8rem; color: rgba(185,160,110,0.45); letter-spacing: 0.2em; }
    .sound-btn {
      background: rgba(10,5,2,0.55);
      border: 1px solid rgba(185,138,50,0.2); border-radius: 14px;
      padding: 0.3rem 0.85rem; color: rgba(200,175,130,0.65);
      font-size: 0.78rem; cursor: pointer; letter-spacing: 0.04em;
      backdrop-filter: blur(8px); font-family: Georgia, serif;
      transition: all 0.25s; pointer-events: all;
    }
    .sound-btn:hover { border-color: rgba(185,138,50,0.5); color: rgba(225,200,155,0.95); }
    .sound-btn.on { border-color: rgba(140,180,255,0.45); color: rgba(165,200,255,0.9); background: rgba(100,140,255,0.08); }

    /* Ğ”Ñ‹Ñ…Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ĞºÑ€ÑƒĞ³ */
    .breathe-wrap {
      display: flex; flex-direction: column; align-items: center; gap: 0.8rem;
      opacity: 0; transition: opacity 1.4s ease 2.5s; pointer-events: all;
    }
    .breathe-wrap.show { opacity: 1; }
    .breathe-outer {
      width: 105px; height: 105px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      border: 1px solid rgba(120,165,255,0.2);
      cursor: pointer; animation: b-outer 12s ease-in-out infinite;
    }
    @keyframes b-outer {
      0%,100%{ transform:scale(1);    border-color:rgba(120,165,255,0.2); box-shadow:0 0 10px rgba(100,150,255,0.06); }
      33%    { transform:scale(1.48); border-color:rgba(165,205,255,0.58); box-shadow:0 0 65px rgba(100,150,255,0.22); }
      50%    { transform:scale(1.48); border-color:rgba(155,195,255,0.48); }
      83%    { transform:scale(0.86); border-color:rgba(100,140,220,0.14); box-shadow:0 0 6px rgba(100,150,255,0.04); }
    }
    .breathe-ring {
      width: 74px; height: 74px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      border: 1px solid rgba(120,165,255,0.25);
      background: radial-gradient(circle, rgba(100,145,255,0.12) 0%, transparent 70%);
      animation: b-ring 12s ease-in-out infinite;
    }
    @keyframes b-ring {
      0%,100%{ transform:scale(1); }
      33%    { transform:scale(1.12); }
      50%    { transform:scale(1.12); }
      83%    { transform:scale(0.88); }
    }
    .breathe-dot {
      width: 18px; height: 18px; border-radius: 50%;
      background: radial-gradient(circle, rgba(180,210,255,0.65) 0%, transparent 100%);
      animation: b-dot 12s ease-in-out infinite;
    }
    @keyframes b-dot {
      0%,100%{ transform:scale(1);    opacity:0.6; }
      33%    { transform:scale(1.55); opacity:1; }
      50%    { transform:scale(1.55); opacity:0.9; }
      83%    { transform:scale(0.55); opacity:0.3; }
    }
    .breathe-label {
      font-size: 0.74rem; color: rgba(155,185,245,0.52); letter-spacing: 0.14em;
    }

    /* ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ²Ğ½Ğ¸Ğ·Ñƒ */
    .relax-bottom {
      display: flex; gap: 0.6rem; flex-wrap: wrap; justify-content: center;
      pointer-events: all; opacity: 0; transition: opacity 1.4s ease 3s;
    }
    .relax-bottom.show { opacity: 1; }
    .relax-btn {
      padding: 0.4rem 1rem; border-radius: 16px;
      border: 1px solid rgba(185,138,50,0.2); background: rgba(8,4,1,0.6);
      color: rgba(200,175,130,0.65); font-size: 0.76rem; cursor: pointer;
      backdrop-filter: blur(10px); letter-spacing: 0.04em; transition: all 0.25s;
      font-family: Georgia, serif; text-decoration: none; display: inline-block;
    }
    .relax-btn:hover { border-color:rgba(185,138,50,0.45); color:rgba(220,195,150,0.95); }
    .relax-btn.active { border-color:rgba(140,180,255,0.4); color:rgba(165,200,255,0.9); background:rgba(100,140,255,0.09); }

    .timer-display {
      position: fixed; left: 50%; transform: translateX(-50%); top: 8%;
      z-index: 22; font-size: 1.6rem; color: rgba(160,195,255,0.3);
      letter-spacing: 0.1em; pointer-events: none;
      font-variant-numeric: tabular-nums; opacity: 0; transition: opacity 0.5s;
    }
    .timer-display.show { opacity: 1; }
    .bell-msg {
      position: fixed; top: 46%; left: 50%; transform: translateX(-50%);
      z-index: 22; font-size: 1rem; color: rgba(200,220,255,0.88);
      letter-spacing: 0.14em; text-align: center; pointer-events: none;
      opacity: 0; transition: opacity 0.8s;
    }
    .bell-msg.show { opacity: 1; }

    @media (max-width: 480px) {
      .breathe-outer { width: 88px; height: 88px; }
      .breathe-ring  { width: 62px; height: 62px; }
      .relax-title   { display: none; }
    }
  </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â• Ğ¤ĞĞ¢Ğ Ğ¦Ğ•Ğ›Ğ˜ĞšĞĞœ â•â•â•â•â•â•â•â•â•â• -->
<div class="hut">
  <img id="hut-img" class="hut__img" src="relax-hut.jpg" alt="ĞšĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°">
</div>

<!-- â•â•â•â•â•â•â•â•â•â• Ğ”Ğ«Ğ¥ĞĞĞ˜Ğ• Ğ¤Ğ˜Ğ“Ğ£Ğ  â•â•â•â•â•â•â•â•â•â• -->
<div class="breath breath--samurai"></div>
<div class="breath breath--dasha"></div>
<div class="breath breath--cats"></div>

<!-- â•â•â•â•â•â•â•â•â•â• Ğ‘Ğ›Ğ•Ğ¡Ğš Ğ§ĞĞ™ĞĞ˜ĞšĞ â•â•â•â•â•â•â•â•â•â• -->
<div class="teapot-shine"></div>

<!-- â•â•â•â•â•â•â•â•â•â• ĞŸĞĞ  â•â•â•â•â•â•â•â•â•â• -->
<div class="steam">
  <div class="steam__p"></div>
  <div class="steam__p"></div>
  <div class="steam__p"></div>
  <div class="steam__p"></div>
  <div class="steam__p"></div>
  <div class="steam__p"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• Ğ—Ğ’ĞĞ—Ğ”Ğ« â€” Ğ¼ĞµÑ€Ñ†Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… ĞœĞ»ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ÑƒÑ‚Ğ¸ â•â•â•â•â•â•â•â•â•â• -->
<!-- Ğ—Ğ²Ñ‘Ğ·Ğ´Ñ‹ Ñ€Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ñ‹ Ğ² Ğ·Ğ¾Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… Ğ´Ğ²ĞµÑ€ĞµĞ¹ (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ½Ğ¾ Ñ†ĞµĞ½Ñ‚Ñ€-Ğ²ĞµÑ€Ñ… ÑĞºÑ€Ğ°Ğ½Ğ°) -->
<div class="img-star" style="width:2px;height:2px;left:37%;top:12%;--d:2.1s;--dl:0s"></div>
<div class="img-star" style="width:3px;height:3px;left:41%;top: 8%;--d:1.8s;--dl:.6s"></div>
<div class="img-star" style="width:2px;height:2px;left:44%;top:14%;--d:2.4s;--dl:1.2s"></div>
<div class="img-star" style="width:3px;height:3px;left:48%;top: 7%;--d:1.6s;--dl:.3s"></div>
<div class="img-star" style="width:2px;height:2px;left:52%;top:11%;--d:2.2s;--dl:1.8s"></div>
<div class="img-star" style="width:2px;height:2px;left:55%;top:15%;--d:1.9s;--dl:.9s"></div>
<div class="img-star" style="width:3px;height:3px;left:58%;top: 9%;--d:2.6s;--dl:2.1s"></div>
<div class="img-star" style="width:2px;height:2px;left:62%;top:13%;--d:1.7s;--dl:.4s"></div>
<div class="img-star" style="width:2px;height:2px;left:39%;top:18%;--d:2.3s;--dl:1.5s"></div>
<div class="img-star" style="width:3px;height:3px;left:46%;top:20%;--d:2.0s;--dl:2.8s"></div>
<div class="img-star" style="width:2px;height:2px;left:50%;top:17%;--d:1.5s;--dl:.7s"></div>
<div class="img-star" style="width:2px;height:2px;left:54%;top:21%;--d:2.5s;--dl:3.2s"></div>
<div class="img-star" style="width:3px;height:3px;left:60%;top:18%;--d:1.8s;--dl:1.1s"></div>
<div class="img-star" style="width:2px;height:2px;left:35%;top:16%;--d:2.2s;--dl:2.5s"></div>
<div class="img-star" style="width:2px;height:2px;left:43%;top:24%;--d:1.6s;--dl:.2s"></div>
<div class="img-star" style="width:3px;height:3px;left:57%;top:25%;--d:2.8s;--dl:1.7s"></div>
<div class="img-star" style="width:2px;height:2px;left:64%;top:22%;--d:1.9s;--dl:3.0s"></div>
<div class="img-star" style="width:2px;height:2px;left:49%;top:28%;--d:2.1s;--dl:2.3s"></div>
<div class="img-star" style="width:3px;height:3px;left:38%;top:10%;--d:1.7s;--dl:.8s"></div>
<div class="img-star" style="width:2px;height:2px;left:53%;top: 6%;--d:2.3s;--dl:1.4s"></div>

<!-- â•â•â•â•â•â•â•â•â•â• Ğ¤ĞĞĞĞ Ğ˜ĞšĞ˜ â•â•â•â•â•â•â•â•â•â• -->
<div class="lantern-l"></div>
<div class="lantern-r"></div>

<!-- â•â•â•â•â•â•â•â•â•â• UI â•â•â•â•â•â•â•â•â•â• -->
<div class="relax-ui">
  <header class="relax-header" id="relax-header">
    <a href="index.html" class="relax-back">â† Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</a>
    <span class="relax-title">âœ¦ ĞšĞ¾Ğ¼Ğ½Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°</span>
    <button class="sound-btn" id="sound-btn">â™ª Ğ—Ğ²ÑƒĞº</button>
  </header>

  <div class="breathe-wrap" id="breathe-wrap">
    <div class="breathe-outer" id="breathe-outer">
      <div class="breathe-ring">
        <div class="breathe-dot"></div>
      </div>
    </div>
    <p class="breathe-label" id="breathe-label">Ğ²Ğ´Ñ‹Ñ…Ğ°Ğ¹...</p>
  </div>

  <div class="relax-bottom" id="relax-bottom">
    <button class="relax-btn" id="btn-timer-5">â± 5 Ğ¼Ğ¸Ğ½</button>
    <button class="relax-btn" id="btn-timer-10">â± 10 Ğ¼Ğ¸Ğ½</button>
    <button class="relax-btn" id="btn-timer-15">â± 15 Ğ¼Ğ¸Ğ½</button>
    <a href="guardian.html" class="relax-btn">âœ¦ Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒ</a>
    <a href="draw.html" class="relax-btn">ğŸ¨ Ğ Ğ¸ÑĞ¾Ğ²Ğ°Ñ‚ÑŒ</a>
    <a href="stories.html" class="relax-btn">ğŸ“– Ğ Ğ°ÑÑĞºĞ°Ğ·Ñ‹</a>
  </div>
</div>

<div class="timer-display" id="timer-display"></div>
<div class="bell-msg"      id="bell-msg">ğŸ”” ĞœĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°</div>

<script>
/* â”€â”€ ĞŸĞ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ â”€â”€ */
var img = document.getElementById('hut-img');
function onLoad() {
  img.classList.add('loaded');
  setTimeout(function() {
    document.getElementById('relax-header').classList.add('show');
    document.getElementById('breathe-wrap').classList.add('show');
    document.getElementById('relax-bottom').classList.add('show');
  }, 600);
}
if (img.complete) onLoad(); else img.addEventListener('load', onLoad);

/* â”€â”€ Ğ”Ñ‹Ñ…Ğ°Ğ½Ğ¸Ğµ (4 Â· 2 Â· 6 = 12 ÑĞµĞº) â”€â”€ */
var PHASES = [{t:'Ğ²Ğ´Ñ‹Ñ…Ğ°Ğ¹...',ms:4000},{t:'Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸...',ms:2000},{t:'Ğ²Ñ‹Ğ´Ñ‹Ñ…Ğ°Ğ¹...',ms:6000}];
var phaseIdx = 0, breatheOn = true;
var breatheLabel = document.getElementById('breathe-label');
var breatheOuter = document.getElementById('breathe-outer');
var breatheTimer;
function nextPhase() {
  if (!breatheOn) return;
  breatheLabel.textContent = PHASES[phaseIdx].t;
  breatheTimer = setTimeout(nextPhase, PHASES[phaseIdx].ms);
  phaseIdx = (phaseIdx + 1) % PHASES.length;
}
setTimeout(nextPhase, 3000);
breatheOuter.addEventListener('click', function() {
  breatheOn = !breatheOn;
  var st = breatheOn ? 'running' : 'paused';
  [this].concat(Array.from(this.querySelectorAll('*'))).forEach(function(el) {
    el.style.animationPlayState = st;
  });
  if (breatheOn) { phaseIdx = 0; nextPhase(); }
  else { clearTimeout(breatheTimer); breatheLabel.textContent = 'Â· Ğ¿Ğ°ÑƒĞ·Ğ° Â·'; }
});

/* â”€â”€ ĞœĞµĞ´Ğ¸Ñ‚Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ¼ÑƒĞ·Ñ‹ĞºĞ° â”€â”€ */
var music = new Audio('./audio/fuji-1.mp3');
music.loop = true; music.volume = 0;
var soundOn = false, fadeInterval = null;
function fadeMusic(to, ms) {
  clearInterval(fadeInterval);
  var from = music.volume, steps = 40, dt = ms / steps, step = 0;
  fadeInterval = setInterval(function() {
    step++;
    music.volume = Math.max(0, Math.min(1, from + (to - from) * step / steps));
    if (step >= steps) { clearInterval(fadeInterval); if (to === 0) music.pause(); }
  }, dt);
}
document.getElementById('sound-btn').addEventListener('click', function() {
  soundOn = !soundOn;
  this.textContent = soundOn ? 'â™ª Ğ¢Ğ¸ÑˆĞ¸Ğ½Ğ°' : 'â™ª Ğ—Ğ²ÑƒĞº';
  this.classList.toggle('on', soundOn);
  if (soundOn) { music.play().catch(function(){}); fadeMusic(0.55, 3000); }
  else { fadeMusic(0, 2000); }
});

/* â”€â”€ Ğ¢Ğ°Ğ¹Ğ¼ĞµÑ€ â”€â”€ */
var timerInterval = null;
var timerEl = document.getElementById('timer-display');
var bellEl  = document.getElementById('bell-msg');
function ringBell() {
  var ac = new (window.AudioContext || window.webkitAudioContext)();
  [432, 528, 639].forEach(function(f, i) {
    var o = ac.createOscillator(), g = ac.createGain();
    o.type = 'sine'; o.frequency.value = f;
    g.gain.setValueAtTime(0.28, ac.currentTime + i * 0.38);
    g.gain.exponentialRampToValueAtTime(0.001, ac.currentTime + i * 0.38 + 5);
    o.connect(g); g.connect(ac.destination);
    o.start(ac.currentTime + i * 0.38);
    o.stop(ac.currentTime + i * 0.38 + 5);
  });
}
function startTimer(min) {
  clearInterval(timerInterval);
  var end = Date.now() + min * 60000;
  document.querySelectorAll('.relax-btn[id^="btn-timer"]').forEach(function(b) { b.classList.remove('active'); });
  var btn = document.getElementById('btn-timer-' + min);
  if (btn) btn.classList.add('active');
  timerEl.classList.add('show'); bellEl.classList.remove('show');
  timerInterval = setInterval(function() {
    var rem = end - Date.now();
    if (rem <= 0) {
      clearInterval(timerInterval); timerEl.classList.remove('show');
      ringBell(); bellEl.classList.add('show');
      setTimeout(function() { bellEl.classList.remove('show'); }, 6000);
      if (btn) { btn.textContent = 'âœ“ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾'; btn.classList.remove('active'); }
      return;
    }
    var m = Math.floor(rem / 60000), s = Math.floor((rem % 60000) / 1000);
    timerEl.textContent = m + ':' + String(s).padStart(2, '0');
  }, 500);
}
document.getElementById('btn-timer-5').addEventListener('click',  function() { startTimer(5);  });
document.getElementById('btn-timer-10').addEventListener('click', function() { startTimer(10); });
document.getElementById('btn-timer-15').addEventListener('click', function() { startTimer(15); });
</script>
<div id="globe-container" class="globe-fixed"></div>
<div id="atmosphere-widget" class="atmosphere-widget" aria-label="ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ°Ñ‚Ğ¼Ğ¾ÑÑ„ĞµÑ€Ñ‹"></div>
<script src="i18n.js" defer></script>
<script src="atmosphere.js" defer></script>
<script>
(function () {
  function init() {
    if (!window.I18n) return;
    var c = document.getElementById("globe-container");
    if (c) window.I18n.init(c); else window.I18n.applyToPage();
    setTimeout(function() { if (window.I18n) window.I18n.applyToPage(); }, 0);
  }
  if (document.readyState === "loading") document.addEventListener("DOMContentLoaded", init);
  else init();
})();
</script>
</body>
</html>
